<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Welcome back, {{ getUserName() }}!</h1>
    <p class="dashboard-subtitle">Here's what's happening with your account</p>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading your dashboard...</p>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!isLoading" class="dashboard-content">
    
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card membership-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <h3>{{ membershipInfo.type || 'Single' }}</h3>
          <p>Membership Type</p>
        </div>
      </div>
      
      <div class="stat-card shares-card">
        <div class="stat-icon">üìä</div>
        <div class="stat-content">
          <h3>${{ membershipInfo.shares || 0 }}</h3>
          <p>Current Shares</p>
        </div>
      </div>
      
      <div class="stat-card status-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-content">
          <h3>{{ membershipInfo.status || 'Active' }}</h3>
          <p>Status</p>
        </div>
      </div>
      
      <div class="stat-card payments-card">
        <div class="stat-icon">üí≥</div>
        <div class="stat-content">
          <h3>${{ membershipInfo.totalPaid || 0 }}</h3>
          <p>Total Paid</p>
        </div>
      </div>
    </div>

    <!-- Main Dashboard Grid -->
    <div class="dashboard-grid">
      
      <!-- Recent Applications -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Recent Applications</h2>
          <a routerLink="/user-dashboard/applications" class="view-all">View All</a>
        </div>
        
        <div class="card-content">
          <div *ngIf="recentApplications.length === 0" class="empty-state">
            <p>No applications yet</p>
            <a routerLink="/membership" class="action-btn">Apply Now</a>
          </div>
          
          <div *ngFor="let app of recentApplications" class="list-item">
            <div class="item-content">
              <h4>{{ app.type || 'Application' }}</h4>
              <p>Amount: ${{ app.amount }}</p>
              <span class="item-date">{{ app.created_at }}</span>
            </div>
            <span class="status-badge" [class]="getStatusClass(app.status)">
              {{ app.status }}
            </span>
          </div>
        </div>
      </div>

      <!-- Recent Claims -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Recent Claims</h2>
          <a routerLink="/claims" class="view-all">View All</a>
        </div>
        
        <div class="card-content">
          <div *ngIf="recentClaims.length === 0" class="empty-state">
            <p>No claims submitted</p>
            <a routerLink="/claims" class="action-btn">Submit Claim</a>
          </div>
          
          <div *ngFor="let claim of recentClaims" class="list-item">
            <div class="item-content">
              <h4>{{ claim.claim_type }}</h4>
              <p>Amount: ${{ claim.amount_requested }}</p>
              <span class="item-date">{{ claim.created_at }}</span>
            </div>
            <span class="status-badge" [class]="getStatusClass(claim.status)">
              {{ claim.status }}
            </span>
          </div>
        </div>
      </div>

      <!-- Recent Activities -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Recent Activities</h2>
        </div>
        
        <div class="card-content">
          <div *ngFor="let activity of recentActivities" class="activity-item">
            <div class="activity-icon">{{ getActivityIcon(activity.type) }}</div>
            <div class="activity-content">
              <h4>{{ activity.action }}</h4>
              <p>{{ activity.description }}</p>
              <span class="activity-date">{{ activity.date }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Upcoming Events -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Upcoming Events</h2>
          <a routerLink="/my-events" class="view-all">View All</a>
        </div>
        
        <div class="card-content">
          <div *ngIf="events.length === 0" class="empty-state">
            <p>No upcoming events</p>
          </div>
          
          <div *ngFor="let event of events" class="event-item" [class.featured]="event.is_featured">
            <div class="event-content">
              <h4>{{ event.title }}</h4>
              <p>{{ event.description }}</p>
              <div class="event-details">
                <span class="event-date">üìÖ {{ formatEventDate(event.date) }}</span>
                <span class="event-location" *ngIf="event.location">üìç {{ event.location }}</span>
              </div>
            </div>
            <div class="event-actions">
              <button class="action-btn small">Register</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Announcements -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Announcements</h2>
          <a routerLink="/announcements" class="view-all">View All</a>
        </div>
        
        <div class="card-content">
          <div *ngIf="announcements.length === 0" class="empty-state">
            <p>No announcements</p>
          </div>
          
          <div *ngFor="let announcement of announcements" class="announcement-item" [class.pinned]="announcement.is_pinned">
            <div class="announcement-header">
              <h4>{{ announcement.title }}</h4>
              <span class="priority-badge" [class]="getPriorityClass(announcement.priority)">
                {{ announcement.priority }}
              </span>
            </div>
            <p>{{ announcement.content }}</p>
            <span class="announcement-date">{{ announcement.created_at }}</span>
          </div>
        </div>
      </div>

      <!-- Notifications -->
      <div class="dashboard-card">
        <div class="card-header">
          <h2>Notifications</h2>
          <a routerLink="/notifications" class="view-all">View All</a>
        </div>
        
        <div class="card-content">
          <div *ngIf="notifications.length === 0" class="empty-state">
            <p>No new notifications</p>
          </div>
          
          <div *ngFor="let notification of notifications" class="notification-item" [class.unread]="!notification.is_read">
            <div class="notification-content">
              <h4>{{ notification.title }}</h4>
              <p>{{ notification.message }}</p>
              <span class="notification-date">{{ notification.created_at }}</span>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h2>Quick Actions</h2>
      <div class="actions-grid">
        <a routerLink="/membership" class="action-card">
          <div class="action-icon">üìù</div>
          <h3>New Application</h3>
          <p>Apply for membership</p>
        </a>
        
        <a routerLink="/claims" class="action-card">
          <div class="action-icon">üè•</div>
          <h3>Submit Claim</h3>
          <p>File a benefit claim</p>
        </a>
        
        <a routerLink="/user-dashboard/payments" class="action-card">
          <div class="action-icon">üí≥</div>
          <h3>Make Payment</h3>
          <p>Pay membership fees</p>
        </a>
        
        <a routerLink="/user-dashboard/profile" class="action-card">
          <div class="action-icon">üë§</div>
          <h3>Update Profile</h3>
          <p>Manage your information</p>
        </a>
      </div>
    </div>

  </div>
</div>