<div class="container mt-5">
  <div class="card">
    <div class="card-header">
      <h3>Backend Connection Test</h3>
    </div>
    <div class="card-body">
      <div class="alert" [class.alert-success]="backendStatus.includes('✅')" [class.alert-danger]="backendStatus.includes('❌')">
        <strong>Backend Status:</strong> {{ backendStatus }}
        <br>
        <strong>Backend URL:</strong> {{ backendUrl }}
      </div>

      <h5>Test Results:</h5>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Test</th>
              <th>Status</th>
              <th>Details</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let result of testResults">
              <td>{{ result.test }}</td>
              <td>
                <span class="badge" 
                      [class.badge-success]="result.status.includes('Success') || result.status.includes('Available')"
                      [class.badge-danger]="result.status.includes('Failed')">
                  {{ result.status }}
                </span>
              </td>
              <td>
                <small>{{ result.response || result.error | json }}</small>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="mt-3">
        <button class="btn btn-primary" (click)="testBackendConnection()">Retest Connection</button>
        <a routerLink="/" class="btn btn-secondary ms-2">Back to Home</a>
      </div>
    </div>
  </div>
</div>