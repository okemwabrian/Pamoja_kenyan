<div class="announcements-container">
  <h2>📢 Announcements & Events</h2>
  
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading">
    <p>Loading announcements and events...</p>
  </div>
  
  <!-- Announcements Section -->
  <div *ngIf="!isLoading" class="announcements-section">
    <h3>📋 Latest Announcements</h3>
    
    <div *ngIf="announcements.length === 0" class="no-content">
      <p>No announcements at this time.</p>
    </div>
    
    <div *ngIf="announcements.length > 0" class="announcements-list">
      <div *ngFor="let announcement of announcements" class="announcement-card" [class]="getPriorityClass(announcement.priority)">
        <div class="announcement-header">
          <h4>{{ announcement.title }}</h4>
          <div class="announcement-meta">
            <span class="priority-badge" [class]="getPriorityClass(announcement.priority)">
              {{ announcement.priority | titlecase }}
            </span>
            <span class="date">{{ formatDate(announcement.created_at) }}</span>
          </div>
        </div>
        
        <div class="announcement-content">
          <p>{{ announcement.content }}</p>
        </div>
        
        <div *ngIf="announcement.is_pinned" class="pinned-indicator">
          📌 Pinned
        </div>
      </div>
    </div>
  </div>
  
  <!-- Events Section -->
  <div *ngIf="!isLoading" class="events-section">
    <h3>📅 Upcoming Events</h3>
    
    <div *ngIf="events.length === 0" class="no-content">
      <p>No upcoming events scheduled.</p>
    </div>
    
    <div *ngIf="events.length > 0" class="events-list">
      <div *ngFor="let event of events" class="event-card">
        <div class="event-header">
          <h4>{{ event.title }}</h4>
          <div class="event-date">
            <span class="date-badge">{{ formatDate(event.date) }}</span>
          </div>
        </div>
        
        <div class="event-details">
          <div *ngIf="event.location" class="event-location">
            <span class="icon">📍</span>
            <span>{{ event.location }}</span>
          </div>
          
          <div class="event-description">
            <p>{{ event.description }}</p>
          </div>
          
          <div class="event-features">
            <span *ngIf="event.is_featured" class="feature-badge featured">⭐ Featured</span>
            <span *ngIf="event.registration_required" class="feature-badge registration">📝 Registration Required</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Call to Action -->
  <div class="cta-section">
    <div class="cta-card">
      <h3>Stay Connected</h3>
      <p>Don't miss important updates! Make sure you're logged in to receive notifications about new announcements and events.</p>
      <div class="cta-buttons">
        <a routerLink="/login" class="btn btn-primary" *ngIf="!isLoggedIn()">Login</a>
        <a routerLink="/user-dashboard" class="btn btn-outline" *ngIf="isLoggedIn()">Go to Dashboard</a>
      </div>
    </div>
  </div>
</div>